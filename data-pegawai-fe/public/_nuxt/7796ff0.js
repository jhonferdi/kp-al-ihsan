(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{284:function(t,e,r){"use strict";r.r(e);var n=r(22),o=(r(125),r(50),r(38)),l=r.n(o),m=r(108),c=r.n(m),d={middleware:"auth",asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params,e.next=3,l.a.get("users");case 3:return r=e.sent.data,n=r.stats.kabkot,form={name:"",email:"",password:"",kabkot_id:[]},e.abrupt("return",{kabkotOptions:n,form:form});case 7:case"end":return e.stop()}}),e)})))()},head:function(){return{title:"New User"}},data:function(){return{loading:!1,errors:{}}},methods:{save:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,l.a.post("users",t.form);case 4:(r=e.sent.data).success?c.a.fire({icon:"success",title:"Berhasil",text:"Data berhasil disimpan",confirmButtonText:"Ok"}).then((function(e){e.isConfirmed&&t.$router.push({name:"user"})})):c.a.fire({icon:"error",title:"Gagal menyimpan data",text:r.message,confirmButtonText:"Ok"}),t.errors={},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response&&422==e.t0.response.status&&(t.errors=e.t0.response.data.errors);case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getErrorState:function(t){return!this.errors[t]&&null},getErrorMessage:function(t){return this.errors[t]?this.errors[t].join(", "):null}}},f=r(19),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"my-4",attrs:{title:"New User"}},[r("b-container",{attrs:{fluid:""}},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{for:"input-name"}},[t._v("Name:")])]),t._v(" "),r("b-col",{attrs:{sm:"9"}},[r("b-form-input",{attrs:{id:"input-name",type:"text",state:t.getErrorState("name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),!1===t.getErrorState("name")?r("b-form-invalid-feedback",[t._v("\n          "+t._s(t.getErrorMessage("name"))+"\n        ")]):t._e()],1)],1),t._v(" "),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{for:"input-email"}},[t._v("Email:")])]),t._v(" "),r("b-col",{attrs:{sm:"9"}},[r("b-form-input",{attrs:{id:"input-email",type:"email",state:t.getErrorState("email")},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),!1===t.getErrorState("email")?r("b-form-invalid-feedback",[t._v("\n          "+t._s(t.getErrorMessage("email"))+"\n        ")]):t._e()],1)],1),t._v(" "),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{for:"input-password"}},[t._v("Password:")])]),t._v(" "),r("b-col",{attrs:{sm:"9"}},[r("b-form-input",{attrs:{id:"input-password",type:"password",state:t.getErrorState("password")},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),!1===t.getErrorState("password")?r("b-form-invalid-feedback",[t._v("\n          "+t._s(t.getErrorMessage("password"))+"\n        ")]):t._e()],1)],1),t._v(" "),r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("label",{attrs:{for:"input-roles"}},[t._v("Kabupaten/Kota:")])]),t._v(" "),r("b-col",{attrs:{sm:"9"}},[r("b-form-select",{attrs:{options:t.kabkotOptions,"value-field":"id","text-field":"name",name:"kabkot_id"},model:{value:t.form.kabkot_id,callback:function(e){t.$set(t.form,"kabkot_id",e)},expression:"form.kabkot_id"}}),t._v(" "),!1===t.getErrorState("kabkot_id")?r("b-form-invalid-feedback",[t._v("\n          "+t._s(t.getErrorMessage("kabkot_id"))+"\n        ")]):t._e()],1)],1),t._v(" "),r("b-row",{staticClass:"my-4"},[r("b-col",{attrs:{"offset-sm":"3",sm:"9"}},[r("b-button",{attrs:{variant:"primary",disabled:t.loading},on:{click:t.save}},[r("fa",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{icon:"spinner",spin:""}}),t._v(" Save\n        ")],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);