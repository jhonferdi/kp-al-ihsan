(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{280:function(e,r,t){"use strict";t.r(r);var n=t(22),o=(t(55),t(125),t(50),t(38)),m=t.n(o),c=t(108),l=t.n(c),d={middleware:"auth",head:function(){return{title:"New User"}},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function r(){var t,n,o,form;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.params,t=m.a.get("role/permission"),r.next=4,t;case 4:return n=r.sent.data,o=n.data,form={name:"",permission_ids:[]},r.abrupt("return",{permissionOptions:o,form:form});case 8:case"end":return r.stop()}}),r)})))()},data:function(){return{loading:!1,errors:{}}},methods:{save:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,r.prev=1,r.next=4,m.a.post("role",e.form);case 4:(t=r.sent.data).success?(l.a.fire({icon:"success",title:"Berhasil",text:"Data berhasil disimpan",confirmButtonText:"ok"}),e.form.name="",e.form.permission_ids=[]):l.a.fire({icon:"error",title:"Gagal menyimpan data",text:t.message,confirmButtonText:"ok"}),e.errors={},r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),r.t0.response&&422==r.t0.response.status&&(e.errors=r.t0.response.data.errors);case 12:e.loading=!1;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))()},getErrorState:function(e){return!this.errors[e]&&null},getErrorMessage:function(e){return this.errors[e]?this.errors[e].join(", "):null}}},f=t(19),component=Object(f.a)(d,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-card",{staticClass:"my-4",attrs:{title:"New Role"}},[t("b-container",{attrs:{fluid:""}},[t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"input-name"}},[e._v("Name:")])]),e._v(" "),t("b-col",{attrs:{sm:"9"}},[t("b-form-input",{attrs:{id:"input-name",type:"text",state:e.getErrorState("name")},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}}),e._v(" "),!1===e.getErrorState("name")?t("b-form-invalid-feedback",[e._v("\n          "+e._s(e.getErrorMessage("name"))+"\n        ")]):e._e()],1)],1),e._v(" "),t("b-row",{staticClass:"my-1"},[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"input-name"}},[e._v("Permissions:")])]),e._v(" "),t("b-col",{attrs:{sm:"9"}},[e._l(e.permissionOptions,(function(r){return t("b-form-checkbox",{key:r.id,attrs:{value:r.id,name:"permission_ids",state:e.getErrorState("permission_ids")},model:{value:e.form.permission_ids,callback:function(r){e.$set(e.form,"permission_ids",r)},expression:"form.permission_ids"}},[e._v("\n          "+e._s(r.name)+"\n        ")])})),e._v(" "),!1===e.getErrorState("permission_ids")?t("b-form-invalid-feedback",[e._v("\n          "+e._s(e.getErrorMessage("permission_ids"))+"\n        ")]):e._e()],2)],1),e._v(" "),t("b-row",{staticClass:"my-4"},[t("b-col",{attrs:{"offset-sm":"3",sm:"9"}},[t("b-button",{attrs:{variant:"primary",disabled:e.loading},on:{click:e.save}},[t("fa",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{icon:"spinner",spin:""}}),e._v(" Save\n        ")],1)],1)],1)],1)],1)}),[],!1,null,null,null);r.default=component.exports}}]);